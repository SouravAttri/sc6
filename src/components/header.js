import { Link } from "gatsby"
import React from "react"
import styled from "styled-components"
import media from "../uikit/mediaTemplate"

const isPartiallyActive = ({ isPartiallyCurrent }) =>
  isPartiallyCurrent ? { className: "active" } : { className: "" }

const PartialNavLink = ({ children, ...props }) => (
  <Link getProps={isPartiallyActive} {...props}>
    {children}
  </Link>
)

const SCLogo = props => (
  <svg viewBox="0 0 183 53" {...props}>
    <title>Student Competitions</title>
    <g fill="none" fillRule="evenodd">
      <g fill="#ffffff">
        <path d="M47.121 13.156c-1.508 0-2.795-.533-3.51-1.69l1.352-.897c.52.754 1.456 1.053 2.275 1.053.715 0 1.118-.22 1.118-.572 0-.495-.637-.585-1.482-.703-1.638-.22-2.86-.7-2.86-2.222 0-1.495 1.326-2.223 2.925-2.223 1.573 0 2.691.663 3.302 1.313l-1.183 1.052c-.442-.454-1.183-.844-2.119-.844-.559 0-1.014.194-1.014.52 0 .442.663.494 1.534.637 1.638.273 2.847.766 2.847 2.21 0 1.443-1.222 2.366-3.185 2.366zM56.325 12.545c-.48.364-1.104.61-1.924.61-.884 0-1.573-.272-1.975-.87-.287-.416-.404-.897-.404-1.6v-3.12H50.93V6.059h1.092V4.342h2.002v1.716h1.977v1.508h-1.977v3.133c0 .533.286.728.715.728.352 0 .638-.143.846-.312l.74 1.43zM63.618 6.058V13H61.63v-.78c-.546.586-1.275.937-2.08.937-1.574 0-2.34-1.093-2.34-2.496V6.058h1.988v4.147c0 .585.183 1.183 1.08 1.183.74 0 1.352-.481 1.352-1.378V6.058h1.988zM68.52 7.618c-1.067 0-1.574.884-1.574 1.924s.507 1.898 1.573 1.898c1.08 0 1.612-.858 1.612-1.898 0-1.053-.546-1.924-1.612-1.924zM70.13 13v-.793c-.559.637-1.287.95-2.119.95-1.95 0-3.159-1.574-3.159-3.628 0-2.067 1.21-3.627 3.16-3.627.844 0 1.56.312 2.118.949V3.718h2.002V13h-2.002zM78.568 8.697c-.078-.871-.702-1.313-1.52-1.313-.872 0-1.47.52-1.535 1.313h3.055zm1.925 1.352h-4.992c.064.949.754 1.417 1.755 1.417.792 0 1.456-.312 1.911-.82l1.273 1.197c-.767.767-1.807 1.313-3.302 1.313-2.483 0-3.77-1.547-3.77-3.588 0-2.093 1.34-3.666 3.64-3.666 2.21 0 3.523 1.456 3.523 3.549 0 .22-.026.442-.038.598zM81.74 13V6.058h1.99v.793a2.77 2.77 0 012.08-.949c1.573 0 2.34 1.092 2.34 2.496V13h-1.99V8.853c0-.585-.194-1.183-1.079-1.183-.74 0-1.352.481-1.352 1.378V13H81.74zM94.506 12.545c-.48.364-1.104.61-1.924.61-.884 0-1.573-.272-1.975-.87-.287-.416-.404-.897-.404-1.6v-3.12H89.11V6.059h1.092V4.342h2.002v1.716h1.977v1.508h-1.977v3.133c0 .533.286.728.715.728.352 0 .638-.143.846-.312l.74 1.43zM50.45 22.979c-.573.949-1.56 1.678-3.069 1.678-2.21 0-3.588-1.547-3.588-3.616 0-2.08 1.391-3.64 3.562-3.64 1.508 0 2.51.755 3.094 1.768l-1.534.911c-.299-.598-.78-.988-1.456-.988-.988 0-1.573.82-1.573 1.938 0 1.142.611 1.936 1.625 1.936.702 0 1.131-.378 1.495-.95l1.443.963zM54.7 19.065c-1.014 0-1.573.82-1.573 1.964 0 1.143.56 1.963 1.573 1.963 1.027 0 1.573-.82 1.573-1.963 0-1.145-.546-1.964-1.573-1.964m0 5.591c-2.249 0-3.679-1.456-3.679-3.614 0-2.17 1.43-3.64 3.68-3.64 2.248 0 3.691 1.47 3.691 3.64 0 2.158-1.443 3.614-3.692 3.614M59.627 24.5v-6.942h1.989v.78c.546-.611 1.223-.937 2.016-.937 1.001 0 1.625.455 1.924 1.171a2.867 2.867 0 012.327-1.171c1.586 0 2.314 1.093 2.314 2.484V24.5h-1.989v-4.16c0-.598-.169-1.17-1.054-1.17-.715 0-1.248.48-1.248 1.365V24.5h-1.988v-4.16c0-.598-.169-1.17-1.054-1.17-.715 0-1.248.48-1.248 1.365V24.5h-1.989zM75.383 22.94c1.066 0 1.56-.884 1.56-1.91 0-1.04-.494-1.912-1.56-1.912-1.08 0-1.625.858-1.625 1.912 0 1.04.56 1.91 1.625 1.91zm-1.625-5.383v.794c.572-.637 1.287-.95 2.133-.95 1.949 0 3.158 1.587 3.158 3.629 0 2.065-1.21 3.626-3.158 3.626a2.783 2.783 0 01-2.133-.937v3.042h-1.99v-9.204h1.99zM85.081 20.197c-.078-.87-.702-1.313-1.52-1.313-.872 0-1.47.52-1.535 1.313h3.055zm1.925 1.352h-4.992c.064.95.754 1.417 1.755 1.417.792 0 1.456-.312 1.911-.82l1.273 1.197c-.767.767-1.807 1.313-3.302 1.313-2.483 0-3.77-1.547-3.77-3.588 0-2.094 1.34-3.667 3.64-3.667 2.21 0 3.523 1.456 3.523 3.55 0 .221-.026.441-.038.598zM93.037 24.045c-.48.364-1.105.61-1.924.61-.885 0-1.573-.272-1.976-.87-.287-.416-.403-.897-.403-1.6v-3.12h-1.093v-1.507h1.093v-1.716h2.002v1.716h1.976v1.508h-1.976v3.133c0 .534.286.728.715.728.351 0 .637-.143.845-.312l.741 1.43zM93.985 24.5h1.989v-6.942h-1.989V24.5zm0-7.801h1.989v-1.481h-1.989v1.481zM102.397 24.045c-.48.364-1.105.61-1.925.61-.883 0-1.572-.272-1.974-.87-.288-.416-.405-.897-.405-1.6v-3.12h-1.091v-1.507h1.092v-1.716h2.002v1.716h1.977v1.508h-1.977v3.133c0 .534.286.728.715.728.352 0 .638-.143.846-.312l.74 1.43zM103.346 24.5h1.989v-6.942h-1.989V24.5zm0-7.801h1.989v-1.481h-1.989v1.481zM110.249 19.065c-1.015 0-1.573.82-1.573 1.964 0 1.143.558 1.963 1.573 1.963 1.026 0 1.573-.82 1.573-1.963 0-1.145-.547-1.964-1.573-1.964m0 5.591c-2.249 0-3.68-1.456-3.68-3.614 0-2.17 1.431-3.64 3.68-3.64s3.691 1.47 3.691 3.64c0 2.158-1.442 3.614-3.691 3.614M115.176 24.5v-6.942h1.989v.793a2.77 2.77 0 012.08-.95c1.574 0 2.34 1.093 2.34 2.496V24.5h-1.99v-4.147c0-.585-.193-1.183-1.078-1.183-.741 0-1.352.48-1.352 1.378V24.5h-1.99zM126.07 24.656c-1.509 0-2.796-.533-3.51-1.69l1.352-.897c.52.754 1.456 1.053 2.274 1.053.715 0 1.118-.22 1.118-.572 0-.495-.636-.585-1.48-.703-1.64-.22-2.86-.702-2.86-2.222 0-1.495 1.325-2.224 2.923-2.224 1.574 0 2.692.663 3.302 1.314l-1.183 1.052c-.442-.455-1.182-.844-2.119-.844-.558 0-1.013.195-1.013.52 0 .442.663.493 1.534.637 1.638.272 2.847.766 2.847 2.21 0 1.443-1.222 2.366-3.186 2.366M50.45 34.478c-.573.95-1.56 1.678-3.069 1.678-2.21 0-3.588-1.547-3.588-3.615 0-2.08 1.391-3.64 3.562-3.64 1.508 0 2.51.755 3.094 1.768l-1.534.911c-.299-.599-.78-.989-1.456-.989-.988 0-1.573.82-1.573 1.938 0 1.143.611 1.936 1.625 1.936.702 0 1.131-.377 1.495-.949l1.443.962zM54.7 30.565c-1.014 0-1.573.82-1.573 1.964 0 1.143.56 1.963 1.573 1.963 1.027 0 1.573-.82 1.573-1.963 0-1.145-.546-1.964-1.573-1.964m0 5.591c-2.249 0-3.679-1.456-3.679-3.614 0-2.17 1.43-3.64 3.68-3.64 2.248 0 3.691 1.47 3.691 3.64 0 2.158-1.443 3.614-3.692 3.614M59.627 36v-6.942h1.989v.78c.546-.611 1.223-.937 2.016-.937 1.001 0 1.625.455 1.924 1.171a2.867 2.867 0 012.327-1.171c1.586 0 2.314 1.093 2.314 2.484V36h-1.989v-4.16c0-.598-.169-1.17-1.054-1.17-.715 0-1.248.48-1.248 1.365V36h-1.988v-4.16c0-.598-.169-1.17-1.054-1.17-.715 0-1.248.48-1.248 1.365V36h-1.989z" />
      </g>
      <path d="M0 40h40V0H0v40zm32-3.999h4V32h-4v4.001z" fill="#ffffff" />
    </g>
  </svg>
)

const Wrapper = styled.header`
  position: relative;
  background: #000;
  background-image: url(https://www.datocms-assets.com/14866/1564651626-bg-mosaic.png);
  height: 150px;
  overflow: hidden;

  &:after {
    position: absolute;
    content: "";
    height: 4px;
    bottom: 0;
    width: 100%;
    background-image: url(https://www.datocms-assets.com/14866/1564651818-divider.png);
  }

  .container {
    background: rgba(0, 0, 0, 0.25);
    max-width: 1180px;
    margin: 0 auto;
    padding: 1rem;

    svg {
      height: 74px;
    }

    ${media.tablet`
      padding: 1rem 2.369rem;
    `}

    nav {
      margin-top: 1rem;
      ul {
        display: flex;
        justify-content: space-between;
        font-family: "Roboto Condensed", sans-serif;
        font-weight: 700;
        text-transform: uppercase;
        line-height: 40px;
        color: #ffffff;

        li {
          &.b2b {
            display: none;
          }

          a {
            opacity: 0.75;

            &.active {
              opacity: 1;
            }
          }

          ${media.tablet`
            margin: 0 2.369rem 0 0;
            &.b2b {
              display: block;
              margin: 0;
              margin-left: auto;
            }
          `}
        }
      }
    }
  }
`

const Header = () => (
  <Wrapper>
    <div className="container">
      <Link to="/">
        <SCLogo />
      </Link>
      <nav>
        <ul>
          <li>
            <PartialNavLink to="/competitions">Competitions</PartialNavLink>
          </li>
          <li>
            <PartialNavLink to="/posts">Blog</PartialNavLink>
          </li>
          <li>
            <Link activeClassName="active" to="/winners">
              Winners
            </Link>
          </li>
          <li className="b2b">
            <Link activeClassName="active" to="/for-advertisers">
              For Advertisers
            </Link>
          </li>
        </ul>
      </nav>
    </div>
  </Wrapper>
)

export default Header
